/*
 * Copyright: 2014 Panagiotis Vagenas
 *
 * @author Panagiotis Vagenas <pan.vagenas@gmail.com>
 * @since 150120
 */
(function(b){var d=$xd_v141226_dev.$.extension_class("skroutz","$ajax");$skroutz.$ajax=new d();$skroutz.$ajax.generateXMLNow=function(f){var e=jQuery(".generate-now");$skroutz.$ajax.get("©ajax.®ajaxGenerateSkroutzXML",$skroutz.$ajax.___private_type,[],{complete:function(g){var h=g.responseJSON;if(h==undefined||h.success!=true||h.data.productsUpdated==undefined){var i=h==undefined?"Something went awfully wrong!":h.data;f.find(".modal-title").html('<p class="bg-danger">'+i+"</p>")}else{f.find(".modal-title").html('<p class="bg-success">Generation Complete! '+h.data.productsUpdated+" products included in XML</p>")}e.removeClass("disabled").removeClass("loading")},beforeSend:function(){f.find(".modal-title").html("");e.addClass("disabled").addClass("loading")},error:function(h,g,i){f.find(".modal-title").html('<p class="bg-danger">'+i+"</p>")}})};$skroutz.$ajax.copyToClipboard=function(e){window.prompt("Copy to clipboard: Ctrl+C, Enter",e)};b(".generate-now").click(function(){$skroutz.$ajax.generateXMLNow(b("#generateNowModal"))});b("#show-advanced").change(function(f){f.preventDefault();if(b(this).is(":checked")){b(".main-settings-form-wrapper").find(".advanced").slideDown("fast")}else{b(".main-settings-form-wrapper").find(".advanced").slideUp("fast")}});b("#map-category").change(function(){var e=b(".hide-if-not-product-tax");if(b.isNumeric(b(this).val())){e.hide()}else{e.show()}});function a(g){var f=g.attr("data-filter");var e=g.hasClass("active");if(e){b(".log-alerts.alert-"+f).slideUp();g.removeClass("active")}else{b(".log-alerts.alert-"+f).slideDown();g.addClass("active")}}var c=b(".log-filter");c.each(function(){var e=b(this).attr("data-filter");if(b(".log-alerts.alert-"+e).length==0){b(this).remove()}});c.click(function(f){f.preventDefault();a(b(this))})})(jQuery);